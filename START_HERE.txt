╔═══════════════════════════════════════════════════════════════════════════╗
║                                                                           ║
║              🚀 AdVeritas - FREE Deployment Guide                         ║
║                  (Vercel + Render = $0/month)                             ║
║                                                                           ║
╚═══════════════════════════════════════════════════════════════════════════╝


┌─────────────────────────────────────────────────────────────────────────┐
│ ✅ EVERYTHING IS READY! Your app is configured for free deployment.     │
└─────────────────────────────────────────────────────────────────────────┘


📋 STEP-BY-STEP DEPLOYMENT (30 minutes total)
═══════════════════════════════════════════════════════════════════════════

Step 1: Create GitHub Repository (2 minutes)
──────────────────────────────────────────────

1. Go to: https://github.com/new
2. Repository name: adveritas
3. Make it Public or Private
4. DON'T initialize with README
5. Click "Create repository"

6. Then run these commands:
   
   cd /Users/arnav/adveritas
   git init
   git add .
   git commit -m "Initial commit - AdVeritas fact-checking app"
   git branch -M main
   git remote add origin https://github.com/YOUR_USERNAME/adveritas.git
   git push -u origin main


Step 2: Deploy Backend to Render (15 minutes)
──────────────────────────────────────────────

1. Go to: https://dashboard.render.com
2. Sign up with GitHub (it's free!)

3. Create PostgreSQL Database:
   • Click "New +" → "PostgreSQL"
   • Name: adveritas-db
   • Database: adveritas
   • Plan: Free
   • Click "Create Database"
   • COPY THE "Internal Database URL" (you'll need this!)

4. Create Redis:
   • Click "New +" → "Redis"
   • Name: adveritas-redis
   • Plan: Free
   • Click "Create Redis"
   • COPY THE "Internal Redis URL" (you'll need this!)

5. Create Web Service (API):
   • Click "New +" → "Web Service"
   • Connect GitHub → Select your "adveritas" repo
   • Name: adveritas-api
   • Root Directory: backend
   • Environment: Docker
   • Plan: Free
   
   • Click "Advanced" → Add Environment Variables:
     
     DATABASE_URL         <paste PostgreSQL URL from step 3>
     REDIS_URL            <paste Redis URL from step 4>
     MINIO_ENDPOINT       http://localhost:9000
     MINIO_BUCKET         adveritas
     MINIO_ACCESS_KEY     minioadmin
     MINIO_SECRET_KEY     minioadmin
     EMBED_MODEL          sentence-transformers/all-MiniLM-L6-v2
     CLAIM_MIN_SCORE      0.35
     VERDICT_MODEL        gpt2-medium
     VERDICT_TOPK         5

   • Click "Create Web Service"
   • Wait 5-10 minutes for build to complete
   • COPY YOUR API URL (e.g., https://adveritas-api.onrender.com)

6. Create Background Worker:
   • Click "New +" → "Background Worker"
   • Connect GitHub → Select "adveritas" repo
   • Name: adveritas-worker
   • Root Directory: backend
   • Environment: Docker
   • Start Command: celery -A app.celery_app.celery_app worker -l INFO --concurrency=1
   • Plan: Free
   
   • Add THE SAME environment variables as step 5
   • Click "Create Background Worker"


Step 3: Deploy Frontend to Vercel (5 minutes)
──────────────────────────────────────────────

1. Go to: https://vercel.com/new
2. Click "Import Project"
3. Import your GitHub "adveritas" repository
4. Configure:
   • Framework Preset: Next.js (auto-detected)
   • Root Directory: frontend
   • Build Command: (leave default)
   • Output Directory: (leave default)

5. Add Environment Variable:
   • Click "Environment Variables"
   • Add:
     Name:  NEXT_PUBLIC_API_URL
     Value: https://adveritas-api.onrender.com
            ↑ Use YOUR Render URL from Step 2.5

6. Click "Deploy"
7. Wait 2-3 minutes
8. COPY YOUR VERCEL URL (e.g., https://adveritas.vercel.app)


Step 4: Test Your App! 🎉
─────────────────────────

1. Visit your Vercel URL (from Step 3.8)
2. Paste a YouTube URL (try: https://www.youtube.com/watch?v=dQw4w9WgXcQ)
3. Click "Analyze Video"
4. WAIT 30-60 seconds (first request is slow - cold start)
5. See your results!

🎊 CONGRATULATIONS! Your app is LIVE and FREE! 🎊


═══════════════════════════════════════════════════════════════════════════
📚 REFERENCE FILES
═══════════════════════════════════════════════════════════════════════════

• DEPLOYMENT_CHECKLIST.md  - This guide in markdown format
• DEPLOY.md                - Quick reference guide
• README_DEPLOYMENT.md     - Detailed troubleshooting guide
• COMMANDS.md              - Useful commands reference


═══════════════════════════════════════════════════════════════════════════
⚠️  IMPORTANT NOTES
═══════════════════════════════════════════════════════════════════════════

Free Tier Limitations:
• Backend sleeps after 15 min idle → first request takes 30-60s
• No persistent storage for audio files
• Uses GPT-2 (basic model, not production quality)

Upgrade Options:
• Render Starter Plan: $7/month (no cold starts, persistent storage)
• Better Models: Use OpenAI API or GPU server with Llama 3.2


═══════════════════════════════════════════════════════════════════════════
🐛 TROUBLESHOOTING
═══════════════════════════════════════════════════════════════════════════

Frontend shows errors:
→ Check Vercel environment variable NEXT_PUBLIC_API_URL
→ Make sure backend is deployed and running on Render

Backend not responding:
→ Check Render logs: Dashboard → adveritas-api → Logs
→ First request takes 30-60s (cold start)

Worker not processing:
→ Check Render logs: Dashboard → adveritas-worker → Logs
→ Verify Database and Redis URLs are correct


═══════════════════════════════════════════════════════════════════════════
📞 NEED HELP?
═══════════════════════════════════════════════════════════════════════════

Check the detailed guides:
   cat README_DEPLOYMENT.md

View all commands:
   cat COMMANDS.md


═══════════════════════════════════════════════════════════════════════════

Ready to start? Follow Step 1 above! 🚀

